app.controller("TopLevelController", function($scope){
  $scope.pDesc = "";
  $scope.pSubDesc = "";
  $scope.pSubG = [];
  $scope.pJIG = [];
  $scope.etiologyTypes = [
		{
			name: 'Injury',
      desc: 'Injuries',
			subGroup: [
        {
          name: 'Fractures',
          desc: 'Fractures (Traumatic, Physeal, Periprosthetic and Pathologic)',
          sub: ["Fracture",
                 "Pathological Fracture",
                 "Physeal Fracture",
                 "Periprosthetic Fracture",
                 "Trauma",
                 "Neoplastic Fracture",
                 "Fracture (Operative)"
                ]
        },
        {
          name: 'Joint Injury',
          desc: [
            {
              name: 'Dislocations',
              desc: 'Dislocation',
              sub: ['Dislocation']
            },
            {
              name: 'Subluxations',
              desc: 'Subluxation',
              sub: ['Subluxation']

            },
            {
              name: 'Traumatic Rupture',
              desc: 'Joint Sprains and Traumatic Rupture of Liguments',
              sub: ['Traumatic Rupture','Sprain']

            },
            {
              name: 'Cartilage and Meniscus Injuries',
              desc: 'Meniscus and Cartilage Injuries',
              sub: ['Meniscus and Cartilage']
            }
          ]    
        
        },
        {
          name: 'Myofascial Injury',
          desc: 'Muscle, Fascia and Tendon Injuries',
          sub: ["Muscle, fascia and tendon",
                "Trauma"
               ]
        },
				{
          name: 'Nerve Injury',
          desc: 'Nerve Injuries',
          sub: ['Nerve']
        },
        {
          name: 'Vessel Injury',
          desc: 'Vessel Injuries',
          sub: ["Artery",
                "Vein",
                "Vessel",
                "Trauma"
               ]
        },
        {
          name: 'Ulcers and Wounds',
          desc: [ 
                  {
                    super : [
                             {
                               name: 'Abrasion',
                               desc: 'Abrasion',
                               sub: ['Abrasion']
                              }
                            ] 
                  }
                ]
        },
        {
          name: 'Crushing and Contusion Injury',
          desc: 'Crushing Injuries',
          sub: ["Crush",
                "Trauma",
                "Contusion"
               ]
        },
        {
          name: 'Amputation',
          desc: 'Amputations',
          sub: ['Amputation', 
                'Amputation (Operative)',
                'Amputation (Infection)',
                'Avulsion'
               ]
        },
        {
          name: 'Burns and Frostbite',
          desc: 'Burns and Frostbite',
          sub: ['FrostBite', 
                'Burn'
               ]
        }
			]
      },
		
    
    
    {
			name: 'Non-Injury',
      desc: 'Non Injuries',
			subGroup: [
        {
				  name: 'Bone Disorders',
          desc: 'Bone, Cartilage and Limb Disorders', 
          sub:  ["Bone Disorder",
                 "Cartilage Disorder",
                 "Pathological Fracture",
                 "Limb Deformity"
                ]
        },
        {
				  name: 'Joint Disorders',
          desc: 'Joint, Ligament, Synovium, Cartilage and Limb Disorders',
          sub: ["Joint Disorder",
                "Cartilage Disorder",
                "Synovium and Tendon Disorder",
                "Limb Deformity"
               ]
        },
        {
				  name: 'Myofascial Disorders',
          desc: 'Muscle, Fascia, Tendon, Synovium Disorders',
          sub: ["MFT Disorder",
                "Synovium and Tendon Disorder"
               ]
        },
        {
				  name: 'Nerve Disorders',
          desc: 'Nerve Disorders',
          sub: ["Nerve Disorder",
                "Pain"
               ]
        },
        {
				  name: 'Vessel Disorders',
          desc: 'Vessel Disorders'
        },

			]
		},
    {
			name: 'Infection',
      desc: 'Infections',
			subGroup: []
		},
    {
			name: 'Tumor',
      desc: 'Neoplastic Disorders',
			subGroup: []
		},
    {
			name: 'Congenital',
      desc: 'Congenital Disorders',
			subGroup: []
		},
    {
			name: 'Op / Peri-Op and Implant Complications',
      desc: 'Related to Operative & Postoperative Mishaps & Issues',
			subGroup: []
		},
    {
			name: 'Systemic Conditions',
      desc: 'Systemic Disorders',
			subGroup: []
		},
    {
      name: 'Clinic and Diagnoses Codes',
      desc: 'Clinic Encounters and Medical Diagnoses',
      subGroup: [
        {
				  name: 'Bone Disorders',
          desc: 'Bone, Cartilage and Limb Disorders'
        },
        {
				  name: 'Joint Disorders',
          desc: 'Joint, Ligament, Synovium, Cartilage and Limb Disorders'
        },
        {
				  name: 'Nerve Disorders',
          desc: 'Nerve Disorders'
        },
        {
				  name: 'Vessel Disorders',
          desc: 'Vessel Disorders'
        },
        {
				  name: 'Myofascial Disorders',
          desc: 'Muscle, Fascia, Tendon, Synovium Disorders'
        },
        {
          name: 'Crush Injury',
          desc: 'Crushing Injuries'
        },
        {
          name: 'Amputation',
          desc: 'Amputations'
        }
			]
    }
    }
  ]
  

  $scope.problemRoute = function(anobj, name, avar) {
    console.log("" + anobj);
    $scope.pSubDesc = "";
    $scope.pJIG = [];
    $scope.pSubG = anobj;
    $scope.pDesc = avar;
    $scope.etiology = name;
    console.log("etiology = " + $scope.etiology);
  };

  $scope.typeRoute = function(anobj, avar) {
    $scope.pJIG = [];
    console.log("" + anobj);
    if (avar == "Joint Injury") {
      $scope.pJIG = anobj;
    } else {
      $scope.pSubDesc = anobj;
      $scope.injuryOf = avar;
      console.log("injuryOf = " + $scope.injuryOf);
    }

  };

    $scope.jiRoute = function(avar, aname) {
    console.log("" + avar);
    $scope.pSubDesc = "Joint Injury - " + avar;
    $scope.injuryOf = aname;
    console.log("injuryOf = " + $scope.injuryOf);
  };

});


